(()=>{var l=(n,e)=>()=>(n&&(e=n(n=0)),e);var w=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var h,m=l(()=>{h=(n,e=100)=>{let t;return(...s)=>{clearTimeout(t),t=setTimeout(()=>n(s),e)}}});var f,p=l(()=>{f=n=>{var t;if(!n.hasChildNodes())return!1;let e=n.childNodes;return!(e.length===1&&e[0].nodeType===3&&(!e[0].nodeValue||((t=e[0].nodeValue)==null?void 0:t.trim())===""))}});var d,v=l(()=>{m();p();d=class extends HTMLElement{constructor(){super();this.serverBaseUrl=window.location.href}connectedCallback(){try{this.getOptionsFromWindowObject(),this.setTemplate(),setTimeout(()=>{this.initSearch()},0)}catch(e){console.error("Error on create instance of Search"),console.error(e)}}getOptionsFromWindowObject(){window.remoteSearchOptions&&this.serverBaseUrl===window.location.href&&window.remoteSearchOptions.serverBaseUrl&&(this.serverBaseUrl=window.remoteSearchOptions.serverBaseUrl)}attributeChangedCallback(e,t,s){switch(e){case"server-base-url":return this.serverBaseUrlChangedCallback(t,s);default:break}}serverBaseUrlChangedCallback(e,t){this.serverBaseUrl=t}initSearch(){let e=this.querySelector("input"),t=this.querySelector(".results");if(!e||!t)throw new Error("The input field or the result list wrapper was not found");let s=!1;t.addEventListener("mousedown",()=>s=!0),t.addEventListener("mouseup",()=>{s=!1,this.classList.remove("has-focus")}),e.addEventListener("focus",()=>this.classList.add("has-focus")),e.addEventListener("blur",()=>{s||(s=!1,this.classList.remove("has-focus"))}),this.bindEvents(t,e)}bindEvents(e,t){t.addEventListener("input",h(()=>{this.updateResults(e,t)},500));let s=!1;t.addEventListener("keydown",r=>{s=!0,r.key=="Enter"?this.gotoCurrentResult(e,t):r.key=="Escape"?t.blur():r.key=="ArrowUp"?this.setCurrentResult(e,-1):r.key==="ArrowDown"?this.setCurrentResult(e,1):s=!1}),t.addEventListener("keypress",r=>{s&&r.preventDefault()}),document.body.addEventListener("keydown",r=>{r.altKey||r.ctrlKey||r.metaKey||!t.matches(":focus")&&r.key==="/"&&(t.focus(),r.preventDefault())})}async updateResults(e,t){e.textContent="";let s=t.value.trim();if(s.length<2)return;this.classList.add("loading");let r=new URL(this.serverBaseUrl),i=r.pathname.endsWith("/")?"":"/";r.pathname+=`${i}search/*${s}*`;let u=[];try{let a=await fetch(r.toString());u.push(...await a.json())}catch(a){console.error(a),this.classList.remove("ready"),this.classList.remove("loading"),this.classList.add("failure")}this.classList.add("ready"),this.classList.remove("loading");for(let a of u){let c=document.createElement("li");c.classList.value=a.classes;let o=document.createElement("a"),y=this.serverBaseUrl.endsWith("/")?"":"/";o.href=this.serverBaseUrl+y+a.url,o.classList.add("tsd-kind-icon"),o.innerHTML=a.name,c.append(o),e.appendChild(c)}}setCurrentResult(e,t){let s=e.querySelector(".current");if(!s)s=e.querySelector(t==1?"li:first-child":"li:last-child"),s&&s.classList.add("current");else{let r=s;if(t===1)do r=r.nextElementSibling||void 0;while(r instanceof HTMLElement&&r.offsetParent==null);else do r=r.previousElementSibling||void 0;while(r instanceof HTMLElement&&r.offsetParent==null);r&&(s.classList.remove("current"),r.classList.add("current"))}}gotoCurrentResult(e,t){let s=e.querySelector(".current");if(s||(s=e.querySelector("li:first-child")),s){let r=s.querySelector("a");r&&(window.location.href=r.href),t.blur()}}setTemplate(){let e=`
<div class="field">
    <label for="tsd-search-field" class="tsd-widget search no-caption">
        Search
    </label>
    <input type="text" id="tsd-search-field" />
</div>

<ul class="results">
    <li class="state loading">Preparing remote search server...</li>
    <li class="state failure">The remote search server is not available</li>
</ul>
    `;f(this)||(this.innerHTML=e)}}});var E,L=l(()=>{E=n=>{if(!n||typeof n!="function")return new Error("The callback is required!");let e=()=>{document.readyState!=="loading"&&(n(),document.attachEvent&&document.detachEvent("onreadystatechange",e),document.removeEventListener("DOMContentLoaded",e))};document.attachEvent&&document.attachEvent("onreadystatechange",e),document.addEventListener&&document.addEventListener("DOMContentLoaded",e),e()}});var T=w(()=>{v();L();var g=()=>{var r,i;let n=document.getElementById("tsd-search"),e=window.remoteSearchOptions||{};if(!n||!e.replaceElement)return;let t=n.getElementsByClassName("title"),s=document.createElement("tsd-search");s.id="tsd-search",s.classList.add("table-cell"),e.serverBaseUrl&&s.setAttribute("server-base-url",e.serverBaseUrl),(r=n.parentNode)==null||r.replaceChild(s,n),t.length>0&&(s.innerHTML+=(i=t.item(0))==null?void 0:i.outerHTML)};E(()=>{customElements.define("tsd-search",d),g()})});T();})();
