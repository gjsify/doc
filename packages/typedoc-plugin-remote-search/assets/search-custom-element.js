(()=>{var l=(a,n)=>()=>(a&&(n=a(a=0)),n);var g=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports);var h,m=l(()=>{h=(a,n=100)=>{let e;return(...s)=>{clearTimeout(e),e=setTimeout(()=>a(s),n)}}});var f,p=l(()=>{f=a=>{var e;if(!a.hasChildNodes())return!1;let n=a.childNodes;return!(n.length===1&&n[0].nodeType===3&&(!n[0].nodeValue||((e=n[0].nodeValue)==null?void 0:e.trim())===""))}});var c,v=l(()=>{m();p();c=class extends HTMLElement{constructor(){super();this.serverBaseUrl=window.location.href}connectedCallback(){try{this.getOptionsFromWindowObject(),this.setTemplate(),setTimeout(()=>{this.initSearch()},0)}catch(e){console.error("Error on create instance of Search"),console.error(e)}}getOptionsFromWindowObject(){window.remoteSearchOptions&&this.serverBaseUrl===window.location.href&&window.remoteSearchOptions.serverBaseUrl&&(this.serverBaseUrl=window.remoteSearchOptions.serverBaseUrl)}attributeChangedCallback(e,s,r){switch(e){case"server-base-url":return this.serverBaseUrlChangedCallback(s,r);default:break}}serverBaseUrlChangedCallback(e,s){this.serverBaseUrl=s}initSearch(){let e=this.querySelector("input"),s=this.querySelector(".results");if(!e||!s)throw new Error("The input field or the result list wrapper was not found");let r=!1;s.addEventListener("mousedown",()=>r=!0),s.addEventListener("mouseup",()=>{r=!1,this.classList.remove("has-focus")}),e.addEventListener("focus",()=>this.classList.add("has-focus")),e.addEventListener("blur",()=>{r||(r=!1,this.classList.remove("has-focus"))}),this.bindEvents(s,e)}bindEvents(e,s){s.addEventListener("input",h(()=>{this.updateResults(e,s)},500));let r=!1;s.addEventListener("keydown",t=>{r=!0,t.key=="Enter"?this.gotoCurrentResult(e,s):t.key=="Escape"?s.blur():t.key=="ArrowUp"?this.setCurrentResult(e,-1):t.key==="ArrowDown"?this.setCurrentResult(e,1):r=!1}),s.addEventListener("keypress",t=>{r&&t.preventDefault()}),document.body.addEventListener("keydown",t=>{t.altKey||t.ctrlKey||t.metaKey||!s.matches(":focus")&&t.key==="/"&&(s.focus(),t.preventDefault())})}async updateResults(e,s){e.textContent="";let r=s.value.trim();if(r.length<2)return;this.classList.add("loading");let t=new URL(this.serverBaseUrl),y=t.pathname.endsWith("/")?"":"/";t.pathname+=`${y}search/*${r}*`;let u=[];try{let i=await fetch(t.toString());u.push(...await i.json())}catch(i){console.error(i),this.classList.remove("ready"),this.classList.remove("loading"),this.classList.add("failure")}this.classList.add("ready"),this.classList.remove("loading");for(let i of u){let d=document.createElement("li");d.classList.value=i.classes;let o=document.createElement("a"),w=this.serverBaseUrl.endsWith("/")?"":"/";o.href=this.serverBaseUrl+w+i.url,o.classList.add("tsd-kind-icon"),o.innerHTML=i.name,d.append(o),e.appendChild(d)}}setCurrentResult(e,s){let r=e.querySelector(".current");if(!r)r=e.querySelector(s==1?"li:first-child":"li:last-child"),r&&r.classList.add("current");else{let t=r;if(s===1)do t=t.nextElementSibling||void 0;while(t instanceof HTMLElement&&t.offsetParent==null);else do t=t.previousElementSibling||void 0;while(t instanceof HTMLElement&&t.offsetParent==null);t&&(r.classList.remove("current"),t.classList.add("current"))}}gotoCurrentResult(e,s){let r=e.querySelector(".current");if(r||(r=e.querySelector("li:first-child")),r){let t=r.querySelector("a");t&&(window.location.href=t.href),s.blur()}}setTemplate(){let e=`
<div class="field">
    <label for="tsd-search-field" class="tsd-widget search no-caption">
        Search
    </label>
    <input type="text" id="tsd-search-field" />
</div>

<ul class="results">
    <li class="state loading">Preparing remote search server...</li>
    <li class="state failure">The remote search server is not available</li>
</ul>
    `;f(this)||(this.innerHTML=e)}}});var E,L=l(()=>{E=a=>{if(!a||typeof a!="function")return new Error("The callback is required!");let n=()=>{document.readyState!=="loading"&&(a(),document.attachEvent&&document.detachEvent("onreadystatechange",n),document.removeEventListener("DOMContentLoaded",n))};document.attachEvent&&document.attachEvent("onreadystatechange",n),document.addEventListener&&document.addEventListener("DOMContentLoaded",n),n()}});var b=g(()=>{v();L();var T=()=>{var r,t;let a=document.getElementById("tsd-search"),n=window.remoteSearchOptions||{};if(!a||!n.replaceElement)return;let e=a.getElementsByClassName("title"),s=document.createElement("tsd-search");s.id="tsd-search",s.classList.add("table-cell"),n.serverBaseUrl&&s.setAttribute("server-base-url",n.serverBaseUrl),(r=a.parentNode)==null||r.replaceChild(s,a),e.length>0&&(s.innerHTML+=(t=e.item(0))==null?void 0:t.outerHTML)};E(()=>{customElements.define("tsd-search",c),T()})});b();})();
